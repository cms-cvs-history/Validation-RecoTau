process h = {

    service = DaqMonitorROOTBackEnd{ }

    source = PoolSource {
	untracked vstring fileNames = { 	



'file:/tmp/gennai/crab_res/tau_reco_16.root',
'file:/tmp/gennai/crab_res/tau_reco_14.root',
'file:/tmp/gennai/crab_res/tau_reco_18.root'
}
	untracked int32 maxEvents = -1
	untracked uint32 debugVebosity = 0
	untracked bool   debugFlag     = true
    }
 service = AdaptorConfig {}    
    # Message Logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cout.threshold = "INFO"

    
	    # Test tracks to jets association
    module jetTrackAssociations = JetTracksAssociator {
	InputTag tracks = ctfWithMaterialTracks
	InputTag jets   = iterativeCone5CaloJets
	double coneSize = 0.5
    }
     module ConeIsolationForEffValid = ConeIsolation {	
        string JetTrackSrc = "jetTrackAssociations"
        string vertexSrc = "offlinePrimaryVerticesFromCTFTracks"
        int32 MinimumNumberOfPixelHits = 2
        int32 MinimumNumberOfHits = 8
        double MaximumTransverseImpactParameter = 0.03
        double MinimumTransverseMomentum = 1.
        double MaximumChiSquared = 10
        double MatchingCone = 0.1
        double  SignalCone = 0.45
        double  IsolationCone = 0.45
        double MinimumTransverseMomentumInIsolationRing = 1.
        double MinimumTransverseMomentumLeadingTrack = 6.
        double DeltaZetTrackVertex = 15.
        int32   MaximumNumberOfTracksIsolationRing = 0.
        bool useVertex = true
        #string vertexSrc = "offlinePrimaryVerticesFromCTFTracks"
   }





 module tauTagTestForIsoEffValid_bkg = TauTagVal_BKG{
	InputTag JetTagProd = ConeIsolationForEffValid	
	string OutPutFile = "tautag_IsoEffValid_bkg.root"
	double SignalCone = 0.07
	double MatchingCone = 0.1
        double IsolationCone = 0.45 
	double MinimumTransverseMomentumLeadingTrack = 6.	
    }


    include "RecoJets/Configuration/data/RecoJets.cff"
    ##replace genCandidates.src = "VtxSmeared"
    replace genCandidates.src = "source"
    #Generator sequence 
    sequence tauGenJet = {genCandidates,genParticleCandidates, iterativeCone5GenJets}


    path p4={jetTrackAssociations,ConeIsolationForEffValid,tauTagTestForIsoEffValid_bkg}    

}
