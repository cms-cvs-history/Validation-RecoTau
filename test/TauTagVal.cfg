process TEST = {

  service = DaqMonitorROOTBackEnd{ }

  source = PoolSource {
  untracked vstring fileNames = {'/store/unmerged/RelVal/2006/8/13/RelVal090BJets50-120/GEN-SIM-DIGI-RECO/0005/2E94F02F-102B-DB11-9E3E-0002B3D8E8FF.root  '}
#        untracked vstring fileNames = { "file:/afs/cern.ch/cms/Tutorials/july06/BTauReconstruction/taujets.root" }   
#        untracked vstring fileNames = { "file:/tmp/gennai/ditau_HLT_reg_100ev.root" }   
	untracked int32 maxEvents = -1
	untracked uint32 debugVebosity = 10
	untracked bool   debugFlag     = true
  }

    # Message Logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cout.threshold = "INFO"

include "RecoVertex/PrimaryVertexProducer/data/OfflinePrimaryVerticesFromCTFTracks.cff"

    # Test tracks to jets association
    module jetTrackAssociations = JetTracksAssociator {
      string tracks = "ctfWithMaterialTracks"
      string jets   = "iterativeCone5CaloJets"
      double coneSize = 0.5
    }


    module coneIsolation = ConeIsolation {
        string JetTrackSrc = "jetTrackAssociations"
        string vertexSrc = "offlinePrimaryVerticesFromCTFTracks"
        int32 MinimumNumberOfPixelHits = 1
        int32 MinimumNumberOfHits = 8
        double MaximumTransverseImpactParameter = 300.
        double MinimumTransverseMomentum = 1.
        double MaximumChiSquared = 1000
        double MatchingCone = 0.1
        double  SignalCone = 0.07
        double  IsolationCone = 0.45 
        double MinimumTransverseMomentumInIsolationRing = 0.
        double MinimumTransverseMomentumLeadingTrack = 6.
        double DeltaZetTrackVertex = 15.
        int32   MaximumNumberOfTracksIsolationRing = 0.
        bool useVertex = false
    }

    module tauTagTest = TauTagVal{
	InputTag JetTagProd = coneIsolation
	string OutPutFile = "tautag_test.root"
	double SignalCone = 0.07
	double MatchingCone = 0.1
    }

    # module execution
    path p = {offlinePrimaryVerticesFromCTFTracks, jetTrackAssociations, coneIsolation, tauTagTest }


}
