process TEST = {

    service = DQMStore{ }

    untracked PSet maxEvents = {untracked int32 input = -1}

    source = PoolSource {
	untracked vstring fileNames = {
'/store/relval/2008/3/20/RelVal-RelValZTT-1205894772-HLT/0000/00A917AF-2EF6-DC11-B595-000423D6AF24.root',
'/store/relval/2008/3/20/RelVal-RelValZTT-1205894772-HLT/0000/3A84F1E7-2EF6-DC11-88C6-000423D9939C.root',
'/store/relval/2008/3/20/RelVal-RelValZTT-1205894772-HLT/0000/52229844-2FF6-DC11-8C3A-000423D9880C.root',
'/store/relval/2008/3/20/RelVal-RelValZTT-1205894772-HLT/0000/56C6E9E1-2EF6-DC11-B247-000423D6A6F4.root',
'/store/relval/2008/3/20/RelVal-RelValZTT-1205894772-HLT/0000/5CE82D43-2FF6-DC11-8EB7-000423D992A4.root',
'/store/relval/2008/3/20/RelVal-RelValZTT-1205894772-HLT/0000/B811FEE3-2EF6-DC11-B84A-000423D992DC.root',
'/store/relval/2008/3/20/RelVal-RelValZTT-1205894772-HLT/0000/C67899EC-2EF6-DC11-90F0-000423D6B5C4.root',
'/store/relval/2008/3/20/RelVal-RelValZTT-1205894772-HLT/0000/EA0A51AC-2EF6-DC11-80C9-000423D9853C.root'
	}
	untracked uint32 debugVebosity = 0
	untracked bool   debugFlag     = true
    }


# Message Logger

  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  include "RecoParticleFlow/Configuration/data/RecoParticleFlow.cff"
  include "RecoTauTag/ConeIsolation/data/coneIsolationTauJetTags.cfi"
  # Magnetic Field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # Geometry
  include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"

#Ecal Isolation
module jetCrystalsAssociator = JetCrystalsAssociator {
    InputTag EBRecHits =ecalRecHit:EcalRecHitsEB 
    InputTag EERecHits =ecalRecHit:EcalRecHitsEE 
      InputTag jets   = iterativeCone5CaloJets::ALL      
      double coneSize = 0.5
}

module ecalIsolation = EcalIsolation{
        InputTag JetForFilter = jetCrystalsAssociator 
	double SmallCone = 0.15
        double BigCone   = 0.5
        double Pisol = 5.0
}


    module tauTagOneProngValidation= TauTagVal{
	string DataType = "TAU" 
#Could be either TAU or QCD
        string OutPutHistograms = "OneProng" 	
	InputTag GenJetProd = iterativeCone5GenJets
	InputTag JetTagProd = coneIsolationTauJetTags 
	InputTag JetEMTagProd = ecalIsolation
	string OutPutFile = "tautag.root"
	double SignalCone = 0.1
	double MatchingCone = 0.1
        double IsolationCone = 0.45 
	double MinimumTransverseMomentumLeadingTrack = 6.
	double 	MinimumTransverseMomentumInIsolationRing = 1.
        int32   MaximumNumberOfTracksIsolationRing = 0	
    }

    module tauTagThreeProngValidation = TauTagVal{
        string DataType = "TAU"
#Could be either TAU or QCD
        string OutPutHistograms = "ThreeProng"
        InputTag GenJetProd = iterativeCone5GenJets
        InputTag JetTagProd = coneIsolationTauJetTags
        InputTag JetEMTagProd = ecalIsolation
        string OutPutFile = "tautag.root"
        double SignalCone = 0.1
        double MatchingCone = 0.1
        double IsolationCone = 0.45
        double MinimumTransverseMomentumLeadingTrack = 6.
        double  MinimumTransverseMomentumInIsolationRing = 1.
        int32   MaximumNumberOfTracksIsolationRing = 0
    } 

    module tauTagBothProngsValidation = TauTagVal{
        string DataType = "TAU"
#Could be either TAU or QCD
        string OutPutHistograms = "OneProngAndThreeProng"
        InputTag GenJetProd = iterativeCone5GenJets
        InputTag JetTagProd = coneIsolationTauJetTags
        InputTag JetEMTagProd = ecalIsolation
        string OutPutFile = "tautag.root"
        double SignalCone = 0.1
        double MatchingCone = 0.1
        double IsolationCone = 0.45
        double MinimumTransverseMomentumLeadingTrack = 6.
        double  MinimumTransverseMomentumInIsolationRing = 1.
        int32   MaximumNumberOfTracksIsolationRing = 0
    } 

     # For Isolation Cone Eff Valid	
     include "RecoJets/Configuration/data/CaloTowersRec.cff"

     path p1={jetCrystalsAssociator, ecalIsolation,coneIsolationTauJetTags, tauTagOneProngValidation, tauTagThreeProngValidation, tauTagBothProngsValidation}

}
