process TEST = {

    service = DaqMonitorROOTBackEnd{ }

    untracked PSet maxEvents = {untracked int32 input = -1}

    source = PoolSource {
	untracked vstring fileNames = {
'/store/relval/2008/2/5/RelVal-ZTT-1202115095-HLT/0000/20625B95-D5D3-DC11-8BBC-001617C3B6CC.root'
	}
	untracked uint32 debugVebosity = 0
	untracked bool   debugFlag     = true
    }

# Message Logger

  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  include "RecoParticleFlow/Configuration/data/RecoParticleFlow.cff"
  include "RecoTauTag/ConeIsolation/data/coneIsolationTauJetTags.cfi"
  # Magnetic Field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # Geometry
  include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"

#Ecal Isolation
module jetCrystalsAssociator = JetCrystalsAssociator {
    InputTag EBRecHits =ecalRecHit:EcalRecHitsEB 
    InputTag EERecHits =ecalRecHit:EcalRecHitsEE 
      InputTag jets   = iterativeCone5CaloJets      
      double coneSize = 0.5
}

module ecalIsolation = EcalIsolation{
        InputTag JetForFilter = jetCrystalsAssociator 
	double SmallCone = 0.15
        double BigCone   = 0.5
        double Pisol = 5.0
}


    module tauTagTestForIsoEffValid = TauTagVal{

	string DataType = "TAU" 
#Could be either TAU or QCD
        string OutPutHistograms = "OneProngAndThreeProng" 	
	InputTag GenJetProd = iterativeCone5GenJets
	InputTag JetTagProd = coneIsolationTauJetTags 
	InputTag JetEMTagProd = ecalIsolation
	string OutPutFile = "tautagval.root"
	double SignalCone = 0.1
	double MatchingCone = 0.1
        double IsolationCone = 0.45 
	double MinimumTransverseMomentumLeadingTrack = 6.
	double 	MinimumTransverseMomentumInIsolationRing = 1.
        int32   MaximumNumberOfTracksIsolationRing = 0	
    }
     # For Isolation Cone Eff Valid	
include "RecoJets/Configuration/data/CaloTowersRec.cff"

     path p1={caloTowers,iterativeCone5CaloJets,jetCrystalsAssociator,ecalIsolation,coneIsolationTauJetTags,tauTagTestForIsoEffValid}


}
