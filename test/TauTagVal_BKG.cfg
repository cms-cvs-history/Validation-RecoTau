process h = {

    service = DaqMonitorROOTBackEnd{ }

    source = PoolSource {
	untracked vstring fileNames = { 	


#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/C06D5584-D2B6-DB11-BB04-003048772680.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/362F4C8D-D2B6-DB11-AEC6-0030487726DE.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/96565589-D2B6-DB11-8471-003048779862.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/EA3DD7FC-D8B6-DB11-8D46-003048772680.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/40E7EE60-DBB6-DB11-99A5-0030487624C6.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/6EEDEE99-D2B6-DB11-96B5-0030487624C6.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/006DA335-DAB6-DB11-BC52-00304877970A.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/2AF33AF7-DAB6-DB11-BE03-003048779862.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/58F88DAE-DEB6-DB11-AA84-003048772680.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/0A90FD2D-D8B6-DB11-A298-0030487624C6.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/7496C766-D8B6-DB11-AC83-00304877970A.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/8E442F09-D9B6-DB11-9B38-003048772680.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/C2A45F48-E4B6-DB11-8806-003048779716.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/FEAB86CD-D1B6-DB11-8832-0030487624C6.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/88778AB6-D5B6-DB11-B194-0030487726DE.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/6C4A32B7-D5B6-DB11-936E-003048779862.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/36BD5119-D6B6-DB11-BBAC-003048779716.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/128834C9-D8B6-DB11-A56C-0030487726DE.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/9273030C-D9B6-DB11-96D5-003048779716.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/A6CBC387-DBB6-DB11-9031-003048772680.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/A29755F3-D4B6-DB11-A8F4-0030487624C6.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/64B48CF5-D5B6-DB11-9912-003048772680.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/FC349BE2-D0B6-DB11-8967-00304877970A.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/383E11BC-D2B6-DB11-895D-003048779716.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/4AA556D2-D5B6-DB11-AB9D-0030487624C6.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/5410BDFB-D0B6-DB11-BEEF-00304877970A.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/B0B2CA19-D4B6-DB11-974C-00304877970A.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/7C86703C-D5B6-DB11-B08D-00304877970A.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/A4ACAF2F-D7B6-DB11-8EAE-00304877970A.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/FAA1F9E8-D8B6-DB11-B7C0-0030487624C6.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/A6453F76-DEB6-DB11-9616-0030487624C6.root',
#'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/E049BC48-E7B6-DB11-A2DE-003048779716.root',
'/store/mc/2007/1/24/mc-onsel-120_PU_QCD_pt_80_120-DIGI-RECO-LowLumiPU/0000/FA6B3038-E8B6-DB11-BEFE-003048772680.root'

#'file:/tmp/gennai/crab_res/tau_reco_16.root',
#'file:/tmp/gennai/crab_res/tau_reco_14.root',
#'file:/tmp/gennai/crab_res/tau_reco_18.root'
}
	untracked int32 maxEvents = -1
	untracked uint32 debugVebosity = 0
	untracked bool   debugFlag     = true
    }
 service = AdaptorConfig {}    
    # Message Logger
    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    replace MessageLogger.cout.threshold = "INFO"

   include "RecoVertex/Configuration/data/RecoVertex.cff"
    #Pixel Vertexing

    include "RecoPixelVertexing/PixelVertexFinding/data/PixelVertexes.cfi"
    replace pixelVertices.NTrkMin = 2
    
    
    # Test tracks to jets association
    module jetTrackAssociations = JetTracksAssociator {
	InputTag tracks = ctfWithMaterialTracks
	InputTag jets   = iterativeCone5CaloJets
	double coneSize = 0.5
    }
   

   
     module ConeIsolationForEffValid = ConeIsolation {	
        string JetTrackSrc = "jetTrackAssociations"
        string vertexSrc = "offlinePrimaryVerticesFromCTFTracks"
        int32 MinimumNumberOfPixelHits = 2
        int32 MinimumNumberOfHits = 8
        double MaximumTransverseImpactParameter = 0.03
        double MinimumTransverseMomentum = 1.
        double MaximumChiSquared = 10
        double MatchingCone = 0.1
        double  SignalCone = 0.45
        double  IsolationCone = 0.45
        double MinimumTransverseMomentumInIsolationRing = 1.
        double MinimumTransverseMomentumLeadingTrack = 6.
        double DeltaZetTrackVertex = 15.
        int32   MaximumNumberOfTracksIsolationRing = 0
        bool useVertex = true
        #string vertexSrc = "offlinePrimaryVerticesFromCTFTracks"

bool UseFixedSizeCone = true
	double VariableConeParameter = 3.5
    double VariableMaxCone = 0.17	
   double VariableMinCone = 0.05
   }
  


 module tauTagTestForIsoEffValid_bkg = TauTagVal_BKG{
	InputTag JetTagProd = ConeIsolationForEffValid
	InputTag GenJets = iterativeCone5GenJetsNoNu
	string OutPutFile = "tautag_IsoEffValid_bkg.root"
	double SignalCone = 0.07
	double MatchingCone = 0.1
        double IsolationCone = 0.45 
	double MinimumTransverseMomentumLeadingTrack = 6.	
    }



include "HLTrigger/Configuration/data/common/CaloTowers.cff"
include "RecoJets/Configuration/data/RecoGenJets.cff"

    sequence tauGenJet = {genParticleCandidates, genParticlesAllStableNoNu,iterativeCone5GenJetsNoNu}

    # module execution
    path p4={tauGenJet,offlinePrimaryVerticesFromCTFTracks,jetTrackAssociations,ConeIsolationForEffValid,tauTagTestForIsoEffValid_bkg}    


}
